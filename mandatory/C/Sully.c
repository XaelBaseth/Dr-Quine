#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define CODE "#include <stdio.h>%c#include <stdlib.h>%c#include <string.h>%c#define CODE %c%s%c%cint main(void){int i=%d;if (i<=0) return (0);char current_file[100];sprintf(current_file, %cSully_%%d.c%c, i);if (!strcmp(current_file, __FILE__))i--;char new_src_file[100];sprintf(new_src_file, %cSully_%%d.c%c, i);char new_exec[100];sprintf(new_exec, %cSully_%%d%c, i);FILE *f = fopen(new_src_file, %cw%c);if (f == NULL) return (1);fprintf(f, CODE, 10, 10, 10, 34, CODE, 34, 10, i, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 10);fclose(f);char compile_cmd[300];sprintf(compile_cmd, %cgcc -o %%s %%s%c, new_exec, new_src_file);system(compile_cmd);char run_cmd[200];sprintf(run_cmd, %c./%%s%c, new_exec);system(run_cmd);return (0);}%c"
int main(void){int i=5;if (i<=0) return (0);char current_file[100];sprintf(current_file, "Sully_%d.c", i);if (!strcmp(current_file, __FILE__))i--;char new_src_file[100];sprintf(new_src_file, "Sully_%d.c", i);char new_exec[100];sprintf(new_exec, "Sully_%d", i);FILE *f = fopen(new_src_file, "w");if (f == NULL) return (1);fprintf(f, CODE, 10, 10, 10, 34, CODE, 34, 10, i, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 10);fclose(f);char compile_cmd[300];sprintf(compile_cmd, "gcc -o %s %s", new_exec, new_src_file);system(compile_cmd);char run_cmd[200];sprintf(run_cmd, "./%s", new_exec);system(run_cmd);return (0);}
